<!DOCTYPE html>
<html>
<head>
    <title>Mock Mode Test</title>
</head>
<body>
    <h1>Mock Mode Test</h1>
    <p>This page will test if mock mode is working correctly.</p>
    
    <button onclick="testMockLogin()">Test Mock Login</button>
    <button onclick="testConfig()">Show Config</button>
    <div id="results"></div>

    <script type="module">
        const log = (message) => {
            const results = document.getElementById('results');
            results.innerHTML += `<p>${new Date().toLocaleTimeString()}: ${message}</p>`;
            console.log(message);
        };

        // Test config values
        window.testConfig = () => {
            log('=== Configuration Test ===');
            log(`VITE_ENABLE_MOCK_DATA: ${import.meta.env.VITE_ENABLE_MOCK_DATA}`);
            log(`VITE_API_BASE_URL: "${import.meta.env.VITE_API_BASE_URL}"`);
            log(`VITE_APP_ENVIRONMENT: ${import.meta.env.VITE_APP_ENVIRONMENT}`);
            log(`All env vars: ${JSON.stringify(import.meta.env, null, 2)}`);
        };

        // Test mock login
        window.testMockLogin = async () => {
            log('=== Mock Login Test ===');
            try {
                const response = await fetch('/api/v1/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        username: 'younus.s@techsophy.com',
                        password: 'password'
                    }),
                });
                
                log(`Response status: ${response.status}`);
                const data = await response.json().catch(() => 'Could not parse JSON');
                log(`Response data: ${JSON.stringify(data)}`);
            } catch (error) {
                log(`❌ Mock login failed: ${error.message}`);
            }
        };

        // Auto-run config test
        window.addEventListener('load', () => {
            log('Page loaded. Testing configuration...');
            testConfig();
        });
    </script>
</body>
</html>
